---
# front matter tells Jekyll to process Liquid
---
<!DOCTYPE html>
<html class=" js no-touch svg inlinesvg svgclippaths no-ie8compat" style="">
  {% include head.html %}
  <body class="homepage homepage_index">
    {% include header.html %}
    <main class="content container" role="main">
      <div class="content-row">
	{% include nav.html %}
        <article class="inner-content">
          <div class="inner-content">
            <h1 id="the-chair-of-br-network-architectures-and-services">Figure 3</h1>
            <p>Deviation between predicted and measured latency for KEM-SIG combinations on the same level. A positive numbers means faster-than-predicted.</p>
	    <h3>Full Figures for absolut deviation (Figures 3a and 3b)</h3>
	                <figure style="display:block;margin-left:auto;margin-right:auto;width:50%;float:left;">
			<img style="width:70%;" src="{{ site.baseurl }}/figures/deviation/deviation.pdf.svg">
			<figcaption style="text-align:center;">Figure 3a: Default OpenSSL behavior</figcaption>
		</figure>
	    <figure style="display:block;margin-left:auto;margin-right:auto;width:50%;float:left;">
			<img style="width:70%;" src="{{ site.baseurl }}/figures/deviation/deviation_new.pdf.svg">
			<figcaption style="text-align:center;">Figure 3b: Optimized OpenSSL behavior</figcaption>
		</figure>
	    <h3>Full Figure for latency improvements (Figure 3c)</h3>
	                 <figure style="display:block;margin-left:auto;margin-right:auto;width:50%;float:left;">
			<img style="width:70%;" src="{{ site.baseurl }}/figures/deviation/deviation_improvement.pdf.svg">
			<figcaption style="text-align:center;">Improvement of the optimized behavior</figcaption>
		</figure>
	    
             <h3>Full Tables per Level</h3>
                          <figure style="display:block;margin-left:auto;margin-right:auto;width:100%;float:left;">
			<img src="{{ site.baseurl }}/figures/deviation/table-cross.pdf.svg">
			<figcaption style="text-align:center;">Level 1 and 2</figcaption>
		</figure>
	    <figure style="display:block;margin-left:auto;margin-right:auto;width:100%;float:left;">
			<img src="{{ site.baseurl }}/figures/deviation/table-cross-2.pdf.svg">
			<figcaption style="text-align:center;">Level 3</figcaption>
		</figure>
	<figure style="display:block;margin-left:auto;margin-right:auto;width:100%;float:left;">
			<img src="{{ site.baseurl }}/figures/deviation/table-cross-3.pdf.svg">
			<figcaption style="text-align:center;">Level 5</figcaption>
		</figure>

	    <h3>Setup</h3>
	    As described in detail on the <a href="{{ site.baseurl }}/web/setup.html">hardware setup</a> and <a href="{{ site.baseurl }}/web/software-setup.html">software setup</a> pages. Using the execution option with docker will automatically do this for you after installing Dockers prerequisites.
		<p></p>
	    <h3>Experiment</h3>

        <p>The following loop variable file contains all KAs and SAs for the experiment. However, each level needs to be executed separately:</p>
	      <details>
                   <summary>Loop variables for levels 1 and 2</summary>
                   {% include loop_vars_level1.html %}
                 </details>
             	      <details>
                   <summary>Loop variables for level 3</summary>
                   {% include loop_vars_level3.html %}
                 </details>
               	      <details>
                   <summary>Loop variables for level 5</summary>
                   {% include loop_vars_level5.html %}
                 </details>
            <p>Next, we start the OpenSSL server on the server node:</p>
	    	      <details>
                   <summary>Server</summary>
                   {% include experiment_server.html %}
                 </details>
            <p>In the last step, we start the OpenSSL client on the client node:</p>
            	    	      <details>
                   <summary>Client</summary>
                   {% include experiment_client.html %}
                 </details>
            <p>The client automatically stops after the predefined measurement time, while the timer and the server need to receive a SIG INT signal to terminate.</p>
	   
	    <h3>Experiment with Docker</h3>
	   	<p>Clone first the <a href="{site.repository}">repository</a> and then change your current folder to code folder within the cloned repository.</p>
	   	<p>Execute the following command:</p>
	   	<pre>./experiment.py --output-dir /opt/experiments level1 level3 level5</pre>
	   	<p></p> 
	    <h3>Evaluation</h3>
	    <p>After the experiment, the results are available in the results folder for client, server, and timestamper. In case of Docker, we only have two folders because of our two node setup and need to copy all PCAPs to the timestamper folder. This step can be done using our prepared data from the hardware timestamping or the results from the Docker-based experiment.</p>
	                	    	      <details>
                   <summary>Client</summary>
                                      <p>Under client_results on the evaluator all files from the client need to be added.</p>
                 </details>
                 	                	    	      <details>
                   <summary>Timestamper</summary>
                                      <p>Under timer_results on the evaluator all files PCAPs need to be added.</p>
                 </details>
            <p>The evaluation script loads all PCAPs into a postgressql database and analyzes the data. Finally, the scripts generates CSVs with the corresponding data:</p>
                        	    	      <details>
                   <summary>Evaluator</summary>
                   {% include evaluate.html %}
                 </details>
	    <p>The results files are now located in the selected results folder. The following files were used to create the table:</p>
	    <ul>
	    	<li>*.crt: The used certificate</li>
	    	<li>*client_results.csv: This file contains the number of connections and the possibility to link run number with KEM and SIG.</li>
	    	<li>*dump-tcp-segments.csv: The number of TCP segments between server and client during the handshake.</li>
	    	<li>*median.csv: The median latency in different parts of the handshake according to the further description in the file name.</li>
	    </ul>
	    <p>These files are used together with the blackbox_analysis script to generate the shown table. This step is included as final_analyzer in the docker scripts.</p>
	             <details>
	             <summary>Blackbox analysis</summary>
                   {% include blackbox.html %}
                 </details>
           	    <p>After the blackbox-analysis, using the following script calculates the deviation results. It expects the level fields in the corresponding CSVs which were generated through the blackbox analysis:</p>
	                            	    	      <details>
	                       <summary>Deviation analysis</summary>
                   {% include derivation.html %}
                 </details>


	    <h3>Docker Evaluation Execution</h3>
	    	    <p>To execute the evaluation using docker, docker and its dependencies needs to be installed on the systems. The current working directory must be at the <a href="{{ site.repository }}/code">code</a> folder.</p>
	                            	    	      <details>
	                       <summary>Based on previous Docker Experiment</summary>
                   {% include docker-level.html %}
                 </details>
                 <details>
	                       <summary>Based on Data from our <a href="https://mediatum.ub.tum.de/1725057" >MediaTUM</a> repository:</summary>
                   {% include pcaps-level.html %}
                 </details>
                <p>This executes all evaluation steps.</p>

	    <h3>Scripts and Data</h3>
	    <p>The following repository contains all files and results including raw PCAPs:</p>
	    <ul>
	    	<li><a href="{{ site.repository }}/code">code</a>: The code necessary to execute the experiments.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level1/client</a>: Contains the outputs of the scripts executed on the client for level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level1/server</a>: Contains the outputs of the scripts executed on the server for level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level1/timestamper</a>: Contains the PCAPs of the experiment from level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level3/client</a>: Contains the outputs of the scripts executed on the client for level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level3/server</a>: Contains the outputs of the scripts executed on the server for level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level3/timestamper</a>: Contains the PCAPs of the experiment from level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level5/client</a>: Contains the outputs of the scripts executed on the client for level 5.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level5/server</a>: Contains the outputs of the scripts executed on the server for level 5.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level5/timestamper</a>: Contains the PCAPs of the experiment from level 5.</li>
	    </ul>
	    <p>And the following folders contain the results with the original OpenSSL version from Open Quantum Safe project without modification of the push behavior:</p>
	    <ul>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level1-nopush/client</a>: Contains the outputs of the scripts executed on the client for level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level1-nopush/server</a>: Contains the outputs of the scripts executed on the server for level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level1-nopush/timestamper</a>: Contains the PCAPs of the experiment from level 1-2.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level3-nopush/client</a>: Contains the outputs of the scripts executed on the client for level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level3-nopush/server</a>: Contains the outputs of the scripts executed on the server for level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level3-nopush/timestamper</a>: Contains the PCAPs of the experiment from level 3.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Client results under level5-nopush/client</a>: Contains the outputs of the scripts executed on the client for level 5.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Server results under level5-nopush/server</a>: Contains the outputs of the scripts executed on the server for level 5.</li>
	    	<li><a href="https://dataserv.ub.tum.de/index.php/s/m1725057">Timestamper results under level5-nopush/timestamper</a>: Contains the PCAPs of the experiment from level 5.</li>
	    </ul>
            <div class="fadein">
            </div>
          </div>
        </article>
      </div>
    </main>
    {% include footer.html %}
</body></html>
